---
layout: post
title:  " 데이터 크롤링 & DB에 담기 [ & 용어정리] "
---

# ※ 톰캣 ※ 
※ context : 다른 경로에 있더라도 연결이 되게끔 하는 기술
(출처 : https://www.youtube.com/watch?v=GpHOvj3XVBU&list=PLq8wAnVUcTFVOtENMsujSgtv2TOsMy8zd&index=6)


=================================

현재 부딫힌 문제 :

jsoup 네이버 지도 크롤링 시도중 문제발생

1. doc 에 담은 url 이 실제 홈페이지랑 다르게 오는것같다. (원인 파악중)

- 해결하기 위한 시도 : url 주소에 한글이 들어가면 깨짐 => 깨진언어를 한글"음식점"으로 수정해봄
-인스타그램 처럼 로그인 충돌인지 파악 => 원인 아님 x 

==> 동적페이지 의 데이터를 읽어오는거에 문제가 있다 Jsoup 에는 ...
정적 페이지를 읽어오는것에 특화되어있는 jsoup 스택

해결방법 1 . HTTP Request 를 읽어오는것 , 
                2. Selenium 을 쓰는것 

===============================

1.세션 ( Session ) :

 1).  세션은 쿠키를 기반하고 있지만, 사용자 정보 파일을 브라우저에 저장하는 쿠키와 달리 세션은 서버 측에서 관리합니다.
 2) . 서버에서는 클라이언트를 구분하기 위해 세션 ID를 부여하며 웹 브라우저가 서버에 접속해서
        브라우저를 종료할 때까지 인증상태를 유지합니다.
 3).  사용자에 대한 정보를 서버에 두기 때문에 쿠키보다 보안에 좋지만,
        사용자가 많아질수록 서버 메모리를 많이 차지하게 됩니다.
 4). 클라이언트가 Request를 보내면, 해당 서버의 엔진이 클라이언트에게 유일한 ID를 부여하는 데 이것이 세션 ID입니다.

2.쿠키 ( Cookie ) : 

  1.)  쿠키는 클라이언트(브라우저) 로컬에 저장되는 키와 값이 들어있는 작은 데이터 파일입니다.
  2.)  쿠키는 클라이언트의 상태 정보를 로컬에 저장했다가 참조합니다.
  3.)  사용자 인증이 유효한 시간을 명시할 수 있으며, 유효 시간이 정해지면 브라우저가 종료되어도 인증이 유지된다는
        특징이 있습니다.
  4.)  Response Header에 Set-Cookie 속성을 사용하면 클라이언트에 쿠키를 만들 수 있습니다.
  5.)  쿠키는 사용자가 따로 요청하지 않아도 브라우저가 Request시에 Request Header를 넣어서
       자동으로 서버에 전송합니다.

( ※ 참고자료 : https://interconnection.tistory.com/74 )

3. 문서 객체 모델 ( DOM : Document Object Model ) : 은 XML이나 HTML 문서에 접근하기 위한 일종의 인터페이스입니다.
    이 객체 모델은 문서 내의 모든 요소를 정의하고 , 각각의 요소에 접근하는 방법을 제공합니다.
   이러한 DOM은 

4. JSON ( JavaScript Object Notation ) : 

================================

이미지처럼 Document 파일은 찾은것같은데 , 이미지가 빠진 Document 다.. JS 파일은 내가 읽을줄 모르겠고 , 
이미지 src 를 포함하고있는 HTML DOCUMENT 를 찾아와야 하는데 ..

===========================

크롤링 request 헤더 ( 크롬 개발자도구 ) 를 
  자바 jsoup 코드 형식에 맞게 기입하면 되는듯.

이 과정을 어떻게 정리해서 실제로 적용할건지 해결하면 된다.

=========================

여러 예제 , 코드를 접해서 해결법을 찾아보자 . 

공부 전략을 잘 못세우겠다 . 

ex ) 문제가 생겼을때 , 공부하다보면 스쳐가는 개념들이 많은데 이걸 어느정도로 익히고 넘어가야하는지 

나중에는 공식문서 , 아키텍쳐 구조를 보고 , 또는 어떤 현상을 보고 분석을해서 솔루션을 내놓는 프로의 위치에 갈텐데

지금 그 가닥을 닦아가는 과정이다 라고 생각했을땐 잘 매치가 안된다. 다 그냥 스쳐서는 안될것같고 다 자세히 집중해야 그나마 조금이라도 이해할것같은데

그러다보면 시간이 진짜 타임머신처럼 흐른다. 

======================

.header ( ) ==> 뭘 기입하면 원하는 html 이 호출 될 지 알아보자 

이게 된다면 진짜 해결된다 고민끝이다.

화이팅 ...!!!

============================

네이버 홈페이지에 직접 검색 = > ex ; 홍대 맛집 , 홍대 공원 , 홍대 카페 

크롤링시 출력됨 .

실습 ㄱ 

( 필요 기술이 있어서 스택을 고를 떈 , 레퍼런스가 많은 스택을 , 실용성과 가장 좋은 스택을 고르자. )



====================

나오는 링크들 1줄씩 나오게 해서 변수에 담기 진행하자 .

정리되면 DB에 넣고! 

화이팅 ㅠㅠ

문제에 부딫혔을때 , 기술적인부분을 충분히 고려해서 이젠 정말 모르겠다 아이디어가 생각나지 않는다 싶으면 이 문제를 다른방식으로 해결할 수 없나 까지 고민했다면

다른방식으로 해결하려고 해보자 .

ex ) 인스타 크롤링 => html 담아오기 실패 => 네이버지도 크롤링 => html 담아오기 실패 => request header 작성 => html 필요한부분만 딱 빼고 성공 ( 사실상 실패 ) => 네이버 메인 검색 했을때 나오는 지도검색 크롤링 => HTML 요소 담아오기 성공 => 크롤링코드 작성 => 이미지 링크 빼오기 성공

( https://partnerjun.tistory.com/42 고마운 참고자료
검색어 GooGle "jsoup 원하는 값만" )

이런식으로 문제를 기술적인 부분으로만 해결하려 하지 말자. 경험을 잊지말자 ..!  

============================

클래스 , 인터페이스 

=> 명사여야하고 , 대문자로 시작해야한다 (파스칼 방식)

메소드 

=> 동사여야하고 , 소문자로 시작한다, (카멜케이스 방식)

변수 

=> 축약어 사용 않고 , 모든 의미를 충분히 담고 , 카멜표기법을 사용한다.